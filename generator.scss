
$fonts: () !default;

//Woff is a strongly supported font type by all modern browsers but also supported by old versions of IE
//https://help.webflow.com/article/list-of-font-file-types-for-maximum-browser-support
$font-file-types: 'woff' !default;

$fonts-path: '/assets/fonts' !default;

@mixin font-face($font-family, $src, $font-weight, $font-style: normal){
	@font-face {
		font-family: $font-family;
		src: $src;
		font-weight: $font-weight;
		font-style: $font-style;
		// not sure what this does but Google does it so I'll put it here because they do
		unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02C6, U+02DA, U+02DC, U+2000-206F, U+2074, U+20AC, U+2212, U+2215, U+E0FF, U+EFFD, U+F000;
	}
}

@function fontSrc($fonts-path, $font-family, $font-file){
	//Why the smiley face? https://www.paulirish.com/2010/font-face-gotchas/#smiley
	$src: (local('â˜º'));
	@each $type in $font-file-types {
		$src: append($src, url('#{$fonts-path}/#{$font-family}/#{nth($font-file, 1)}.#{$type}') format('#{$type}'), 'comma');
	}
	@return $src;
}

//Do not edit this unless you have to
@each $font-family, $font-set in $fonts {
	@each $font-weight, $font-file in $font-set {
		@if length($font-file) > 1 {
			@each $font-style, $file in $font-file {
				$src: fontSrc($fonts-path, $font-family, $file);
				@include font-face($font-family, $src, $font-weight, $font-style);
			}
		} @else {
			$src: fontSrc($fonts-path, $font-family, $font-file);
			@include font-face($font-family, $src, $font-weight);
		}
	}
}
